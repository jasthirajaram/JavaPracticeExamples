package com.billing.repository;

import java.util.List;

import org.springframework.data.jpa.repository.Query;
import org.springframework.data.mongodb.repository.MongoRepository;
import org.springframework.data.mongodb.repository.config.EnableMongoRepositories;

import com.billing.entity.Aws;

@EnableMongoRepositories
public interface AwsRepository extends MongoRepository<Aws, String>{

//	List<Aws> findByusageDateBetween(LocalDate startDate, LocalDate endDate);
	
	List<Aws> findByStartDate(String startDate);
	
	List<Aws> findByService(String service);
	
	@Query("{ 'service': ?0, 'startDate': { $gte: ?1, $lte: ?2 } }")
    List<Aws> findByServiceAndStartDateBetween(String service, String startDate, String endDate);

	@Query("{ 'startDate': { $gte: ?0, $lte: ?1 }, 'endDate': { $gte: ?0, $lte: ?1 } }")
    List<Aws> findByStartAndEndDateBetween(String startDate, String endDate);
}
